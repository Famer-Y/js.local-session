(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{if(typeof module==="object"&&typeof module.exports==="object"){module.exports=b(a)}else{var c=oldCookies=a.storage=b(a);c.reproduce=function(d){a.storage=oldCookies;c=b(a,d);return c}}}}(typeof window!=="undefined"?window:this,function(e,c){var a=("session"===c?e.sessionStorage:e.localStorage);var f={set:function(){if(0===arguments.length){throw new Error("1 or 2 arguments required, but only 0 present.")}if(1===arguments.length){var j=arguments[0];if("object"!==b(j)){throw new Error("argument must be Object, when the number of arguments only 1.")}for(var h in j){a.setItem(h,JSON.stringify(j[h]))}}if(2===arguments.length){var g=arguments[0];var i=arguments[1];a.setItem(g,JSON.stringify(i))}},get:function(){if(0===arguments.length){var g={};for(var j=0;j<a.length;j++){var k=a.key(j);try{g[k]=JSON.parse(a.getItem(k))}catch(l){console.debug(l);g[k]=a.getItem(k)}}return g}if(arguments.length>=1){var i=arguments[0];var h=arguments[1];if(undefined===a[i]){if(undefined===h){return null}else{f.set(i,h);return h}}try{return JSON.parse(a.getItem(i))}catch(l){console.debug(l);return a.getItem(i)}}},getByRegex:function(){if(0===arguments.length){throw new Error("1 argument required, but only 0 present.")}return d(arguments)},remove:function(){if(0===arguments.length){throw new Error("1 argument required, but only 0 present.")}if(1===arguments.length){var i=arguments[0];if("array"===b(i)){for(var h=0;h<i.length;h++){var g=i[h];a.removeItem(g)}}else{if("string"===b(i)){a.removeItem(i)}}}},removeByRegex:function(){if(0===arguments.length){throw new Error("1 argument required, but only 0 present.")}return d(arguments,"remove")}};function d(){var g=arguments[0];var i=b(arguments[1])==="string"&&arguments[1]==="remove"?true:false;if(g.length>=1){var l=g[0];var h=g[1];var o={};var m=new RegExp(l,h);for(var j=0;j<a.length;j++){var n=a.key(j);if(m.test(n)){try{o[n]=JSON.parse(a.getItem(n))}catch(k){console.debug(k);o[n]=a.getItem(n)}if(i){a.removeItem(n)}}}return o}}function b(g){switch(Object.prototype.toString.call(g)){case"[object Object]":return"object";case"[object Array]":return"array";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object String]":return"string";default:return"undefined"}}return f}));